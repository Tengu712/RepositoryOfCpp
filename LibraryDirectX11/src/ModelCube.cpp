#include "include/Models.hpp"

bool ModelCube::init(D3DManager* pManager) {

    const unsigned int kNumVtx = 24U;
    const unsigned int kNumIdx = 36U;
    inf.numIdx = kNumIdx;
    
    struct Vertex dataPCNU[kNumVtx] = {
        // right
        {+100.0f, -100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, 0.0f, 0.0f},
        {+100.0f, +100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, 0.0f, 0.0f},
        {+100.0f, +100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, 0.0f, 0.0f},
        {+100.0f, -100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, 0.0f, 0.0f},
        // left
        {-100.0f, -100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, -1.0f, 0.0f, 0.0f, 0.0f, 0.0f},
        {-100.0f, +100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, -1.0f, 0.0f, 0.0f, 0.0f, 0.0f},
        {-100.0f, +100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, -1.0f, 0.0f, 0.0f, 0.0f, 0.0f},
        {-100.0f, -100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, -1.0f, 0.0f, 0.0f, 0.0f, 0.0f},
        // top
        {-100.0f, +100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 1.0f, 0.0f, 0.0f, 0.0f},
        {-100.0f, +100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 1.0f, 0.0f, 0.0f, 0.0f},
        {+100.0f, +100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 1.0f, 0.0f, 0.0f, 0.0f},
        {+100.0f, +100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 1.0f, 0.0f, 0.0f, 0.0f},
        // bottom
        {-100.0f, -100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, -1.0f, 0.0f, 0.0f, 0.0f},
        {-100.0f, -100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, -1.0f, 0.0f, 0.0f, 0.0f},
        {+100.0f, -100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, -1.0f, 0.0f, 0.0f, 0.0f},
        {+100.0f, -100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, -1.0f, 0.0f, 0.0f, 0.0f},
        // back
        {+100.0f, -100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, 1.0f, 0.0f, 0.0f},
        {+100.0f, +100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, 1.0f, 0.0f, 0.0f},
        {-100.0f, +100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, 1.0f, 0.0f, 0.0f},
        {-100.0f, -100.0f, +100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, 1.0f, 0.0f, 0.0f},
        // front
        {-100.0f, -100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, -1.0f, 0.0f, 0.0f},
        {-100.0f, +100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, -1.0f, 0.0f, 0.0f},
        {+100.0f, +100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, -1.0f, 0.0f, 0.0f},
        {+100.0f, -100.0f, -100.0f, 1.0f, 1.0f, 1.0f, 1.0f, 0.0f, 0.0f, -1.0f, 0.0f, 0.0f},
    };
    
    float idxSmall[6] = {0, 1, 2, 0, 2, 3};
    unsigned int dataIdx[kNumIdx];
    for (int i = 0; i < kNumIdx; ++i) {
        dataIdx[i] = idxSmall[i % 6] + 4 * (i / 6);
    }

    return pManager->createModelBuffers(kNumVtx, dataPCNU, dataIdx, &inf);
}
